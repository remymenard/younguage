<h1>List of flashcards</h1>

<div id='flashcards-list' data-list-id=<%= @list.id %>>
  <% @list.flashcards.shuffle.each_with_index do |flashcard, index| %>
    <div class="flashcard-card"
         data-flashcard-id=<%= flashcard.id %>
         data-mastered="<%= flashcard.mastered? %>">
      <div class='card fc-recto m-3 p-3' style='display: none;'>
        <h3><%= flashcard.word.word %></h3>
        <%= simple_form_for flashcard, url: '#' do |f| %>
          <%= f.input :response, label: false %>
          <%= f.button :submit, 'SUBMIT', class: 'fc-submit-btn btn-primary' %>
        <% end %>
      </div>

      <div class='card fc-verso m-3 p-3' style='display: none;'>
        <h3><%= flashcard.word.word %></h3>
        <%= simple_form_for flashcard, url: flashcard_mastered_update_path(flashcard) do |f| %>
          <%= f.input :response, label: false %>
          <h3><%= flashcard.word.translation %></h3>
          <%= f.input :mastered, as: :hidden, input_html: { value: "false" } %>
          <%= f.button :submit, 'âœ“', class: "mastered-submit btn-success" %>
          <%= f.button :submit, 'X', class: "failed-submit btn-danger" %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<div id='congrats' class='card m-3 p-3' style='display: none;'>
  <h3>100%</h3>
  <p>Congratulations</p>
</div>

<%= javascript_pack_tag 'flashcard' %>

